# src/test/resources/application-test.yml

spring:
  # 1. Profile 설정: test 프로파일이 활성화될 때 이 설정을 로드합니다.
  config:
    activate:
      on-profile: test

  # 2. H2 DataSource 설정 (인메모리 DB)
  datasource:
    # H2 인메모리 DB 사용. MODE=MySQL로 설정하여 MySQL 문법 호환성을 높입니다.
    url: jdbc:h2:mem:testdb;MODE=MySQL;
    username: sa
    password:
    driver-class-name: org.h2.Driver

  # 3. JPA/Hibernate 설정
  jpa:
    hibernate:
      # 테스트마다 테이블을 새로 생성하고 종료 시 삭제하여 테스트 간 독립성을 보장합니다.
      ddl-auto: create-drop
    show-sql: true
    properties:
      hibernate:
        format_sql: true
        # H2 DB 사용을 명시합니다.
        dialect: org.hibernate.dialect.H2Dialect